{"layout":{"pages":[{"id":"page_1","title":"Type settings","sections":[{"id":"section_0","fields":[{"id":"namespace","display":"valuePickerTree"}]},{"id":"section_1","fields":[{"id":"folderName","state":{"visible":true,"read-only":false},"display":"dropDown"}]},{"id":"section_2","fields":[{"id":"typeName","display":"textField"}]},{"id":"section_3","fields":[{"id":"idField","display":"dropDown"}]},{"id":"section_4","fields":[{"id":"nameField","display":"dropDown"}]},{"id":"section_5","fields":[{"id":"icon","display":"valuePicker"}]}]}]},"schema":{"idField":{"type":{"dataType":"string","isMultiple":false},"label":"Choose the database column to be used as inventory ID","id":"idField","constraints":{},"valueList":{"id":"com.vmware.o11n.forms/evalOGNL","type":"scriptAction","parameters":[{"ognl":"`GetAction(\"com.vmware.coe.dynamicTypes.sql\",\"getAllTableColumnNamesForNamespaceDb\").call( #namespace , #folderName )`"},{"namespace":"namespace"},{"namespace__type_":"`DynamicTypes:DynamicNamespaceDefinition`"},{"folderName":"folderName"},{"folderName__type_":"`string`"},{"return":"`Array/string`"}]}},"namespace":{"type":{"dataType":"reference","isMultiple":false,"referenceType":"DynamicTypes:DynamicNamespaceDefinition"},"label":"namespace","id":"namespace","constraints":{}},"typeName":{"type":{"dataType":"string","isMultiple":false},"label":"Type name","id":"typeName","constraints":{"required":true}},"icon":{"type":{"dataType":"reference","isMultiple":false,"referenceType":"ResourceElement"},"label":"Icon Resource","id":"icon","constraints":{"required":true},"default":{"value":"7a53f356-d7b1-44a8-877b-ab1e06ded616","label":"7a53f356-d7b1-44a8-877b-ab1e06ded616","type":"ResourceElement","href":"https://vsissp-vra8-t-03.epfl.ch:443/vco/api/catalog/System/ResourceElement/7a53f356-d7b1-44a8-877b-ab1e06ded616/"}},"nameField":{"type":{"dataType":"string","isMultiple":false},"label":"Choose the database column to be used as inventory Name","id":"nameField","constraints":{},"valueList":{"id":"com.vmware.o11n.forms/evalOGNL","type":"scriptAction","parameters":[{"ognl":"`GetAction(\"com.vmware.coe.dynamicTypes.sql\",\"getAllTableColumnNamesForNamespaceDb\").call( #namespace , #folderName )`"},{"namespace":"namespace"},{"namespace__type_":"`DynamicTypes:DynamicNamespaceDefinition`"},{"folderName":"folderName"},{"folderName__type_":"`string`"},{"return":"`Array/string`"}]}},"folderName":{"type":{"dataType":"string","isMultiple":false},"label":"Parent folder name (this will be the label of the folder in the inventory - choose a DB Table)","id":"folderName","constraints":{},"valueList":{"id":"com.vmware.o11n.forms/evalOGNL","type":"scriptAction","parameters":[{"ognl":"`GetAction(\"com.vmware.coe.dynamicTypes.sql\",\"getAllTableNamesForNamespaceDb\").call( #namespace )`"},{"namespace":"namespace"},{"namespace__type_":"`DynamicTypes:DynamicNamespaceDefinition`"},{"return":"`Array/string`"}]}}},"options":{"externalValidations":[{"label":"typeName","source":{"id":"com.vmware.o11n.forms/evalOGNL","type":"scriptAction","parameters":[{"ognl":"`#typeName == #folderName ? \"Object name must be different than parent folder name\" : \"\"`"},{"typeName":"typeName"},{"typeName__type_":"`string`"},{"folderName":"folderName"},{"folderName__type_":"`string`"},{"return":"`String`"}]},"target":["typeName"]}]},"itemId":""}